<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>【容器化】Kubernetes部署 | Gaussli&#39;s Blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="Kubernetes,Container,Kubeadm,Kubelet,Kubectl" />
    
    <meta name="description" content="官网github：https:&#x2F;&#x2F;github.com&#x2F;kubernetes&#x2F;kubernetes official-website：https:&#x2F;&#x2F;kubernetes.io&#x2F; 简介 官方说明：Kubernetes 是用于自动部署，扩展和管理容器化应用程序的开源系统。   官方说明：Kubernetes, also known as K8s, is an open source system f">
<meta property="og:type" content="article">
<meta property="og:title" content="【容器化】Kubernetes部署">
<meta property="og:url" content="http://gaussli.com/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E9%83%A8%E7%BD%B2/index.html">
<meta property="og:site_name" content="Gaussli&#39;s Blog">
<meta property="og:description" content="官网github：https:&#x2F;&#x2F;github.com&#x2F;kubernetes&#x2F;kubernetes official-website：https:&#x2F;&#x2F;kubernetes.io&#x2F; 简介 官方说明：Kubernetes 是用于自动部署，扩展和管理容器化应用程序的开源系统。   官方说明：Kubernetes, also known as K8s, is an open source system f">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://gaussli.com/placeholder.png">
<meta property="article:published_time" content="2021-07-26T14:26:59.000Z">
<meta property="article:modified_time" content="2021-07-26T14:34:43.451Z">
<meta property="article:author" content="gaussli">
<meta property="article:tag" content="Kubernetes">
<meta property="article:tag" content="Container">
<meta property="article:tag" content="Kubeadm">
<meta property="article:tag" content="Kubelet">
<meta property="article:tag" content="Kubectl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://gaussli.com/placeholder.png">
    

    
        <link rel="alternate" href="/atom.xml" title="Gaussli&#39;s Blog" type="application/atom+xml" />
    

    
        <link rel="icon" href="/favicon.png" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?df0270171d5fe9fc9ed7c4716f1566c0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    
    


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/">Tech</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/app/">App</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/container/">Container</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/javaweb/">JavaWeb</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/linux/">Linux</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/mac/">Mac</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/maven/">Maven</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/middleware/">Middleware</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/mysql/">MySQL</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/network/">Network</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/tech/virtualbox/">VirtualBox</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/travel/">Travel</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/travel/%E4%B9%9D%E5%AF%A8%E6%B2%9F/">九寨沟</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/travel/%E9%95%BF%E6%B2%99/">长沙</a></li></ul></li></ul>
                                
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/tech/container/">Container</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/tech/container/kubernetes/">Kubernetes</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-【容器化】kubernetes部署" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        【容器化】Kubernetes部署
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E9%83%A8%E7%BD%B2/" class="article-date">
       <time datetime="2021-07-26T14:26:59.000Z" itemprop="datePublished">2021-07-26</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E9%83%A8%E7%BD%B2/" class="article-date">
     <time datetime="2021-07-26T14:34:43.451Z" itemprop="dateModified">2021-07-26</time>
  </a>
</div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/container/" rel="tag">Container</a>, <a class="tag-link-link" href="/tags/kubeadm/" rel="tag">Kubeadm</a>, <a class="tag-link-link" href="/tags/kubectl/" rel="tag">Kubectl</a>, <a class="tag-link-link" href="/tags/kubelet/" rel="tag">Kubelet</a>, <a class="tag-link-link" href="/tags/kubernetes/" rel="tag">Kubernetes</a>
    </div>

                
   <span id="/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E9%83%A8%E7%BD%B2/" class="leancloud-visitors" data-flag-title="【容器化】Kubernetes部署">
   <i class="fa fa-eye"></i>
   <span class="post-meta-item-text">Views: </span>
   <i class="leancloud-visitors-count">1000000</i>
   </span>


                
   <div class="article-counter">
      <i class="fa fa-file-word-o"></i>
      <span class="post-count-item-text">Words: </span>
      <span class="post-count">1.8k</span>
      <i class="fa fa-clock-o"></i>
      <span class="post-time-item-text">Read time: </span>
      <span class="post-count">8 mins. </span>
   </div>


            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <h1 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h1><p>github：<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes">https://github.com/kubernetes/kubernetes</a></p>
<p>official-website：<a target="_blank" rel="noopener" href="https://kubernetes.io/">https://kubernetes.io/</a></p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><blockquote>
<p>官方说明：Kubernetes 是用于自动部署，扩展和管理容器化应用程序的开源系统。</p>
</blockquote>
<blockquote>
<p>官方说明：Kubernetes, also known as K8s, is an open source system for managing containerized applications across multiple hosts. It provides basic mechanisms for deployment, maintenance, and scaling of applications.</p>
</blockquote>
<blockquote>
<p>Kubernetes builds upon a decade and a half of experience at Google running production workloads at scale using a system called Borg, combined with best-of-breed ideas and practices from the community.</p>
</blockquote>
<blockquote>
<p>Kubernetes is hosted by the Cloud Native Computing Foundation (CNCF). If your company wants to help shape the evolution of technologies that are container-packaged, dynamically scheduled, and microservices-oriented, consider joining the CNCF. For details about who’s involved and how Kubernetes plays a role, read the CNCF announcement.</p>
</blockquote>
<h1 id="Kubeadm方式部署"><a href="#Kubeadm方式部署" class="headerlink" title="Kubeadm方式部署"></a>Kubeadm方式部署</h1><h2 id="1-准备"><a href="#1-准备" class="headerlink" title="1. 准备"></a>1. 准备</h2><h3 id="a-禁用swap虚拟内存"><a href="#a-禁用swap虚拟内存" class="headerlink" title="a) 禁用swap虚拟内存"></a>a) 禁用swap虚拟内存</h3><p>原因：<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes/issues/53533">https://github.com/kubernetes/kubernetes/issues/53533</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看默认是否开启swap虚拟内存，swap端不为0则说明开启</span></span><br><span class="line">free -h</span><br><span class="line"><span class="comment"># 临时禁用swap</span></span><br><span class="line">swapoff -a</span><br><span class="line"><span class="comment"># 永久禁用swap，需重启服务生效</span></span><br><span class="line">sed -i <span class="string">&#x27;s/.*swap.*/#&amp;/&#x27;</span> /etc/fstab</span><br><span class="line"><span class="comment"># 再次查看swap是否已关闭</span></span><br><span class="line">free -h</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f5603a8d7b8.png"></p>
<h3 id="b-禁用selinux"><a href="#b-禁用selinux" class="headerlink" title="b) 禁用selinux"></a>b) 禁用selinux</h3><p>原因：（<a target="_blank" rel="noopener" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a>）<br>Setting SELinux in permissive mode by runningsetenforce 0andsed …effectively disables it. This is required to allow containers to access the host filesystem, which is needed by pod networks for example. You have to do this until SELinux support is improved in the kubelet.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看默认是否已关闭</span></span><br><span class="line">getenforce</span><br><span class="line"><span class="comment"># 临时禁用</span></span><br><span class="line">setenforce 0</span><br><span class="line"><span class="comment"># 永久禁用，需重启服务器生效</span></span><br><span class="line">sed -i <span class="string">&quot;s/^SELINUX=.*/SELINUX=disabled/g&quot;</span> /etc/selinux/config</span><br><span class="line"><span class="comment"># 再次查看是否已关闭</span></span><br><span class="line">getenforce</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f56165918ed.png"></p>
<h3 id="c-禁用防火墙（firewall）"><a href="#c-禁用防火墙（firewall）" class="headerlink" title="c) 禁用防火墙（firewall）"></a>c) 禁用防火墙（firewall）</h3><p>原因：（<a target="_blank" rel="noopener" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a>）<br>Theiptablestooling can act as a compatibility layer, behaving like iptables but actually configuring nftables. This nftables backend is not compatible with the current kubeadm packages: it causes duplicated firewall rules and breakskube-proxy.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f562251fd0a.png"></p>
<h3 id="d-允许-iptables-检查桥接流量"><a href="#d-允许-iptables-检查桥接流量" class="headerlink" title="d) 允许 iptables 检查桥接流量"></a>d) 允许 iptables 检查桥接流量</h3><p>说明：（<a target="_blank" rel="noopener" href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a>）<br>Make sure that the br_netfilter module is loaded. This can be done by running lsmod | grep br_netfilter. To load it explicitly call sudo modprobe br_netfilter.<br>As a requirement for your Linux Node’s iptables to correctly see bridged traffic, you should ensure net.bridge.bridge-nf-call-iptables is set to 1 in your sysctl config, e.g.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;<span class="string">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class="line"><span class="string">br_netfilter</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">cat &lt;&lt;<span class="string">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">sudo sysctl --system</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f686d84ee5a.png"></p>
<h3 id="e-安装Docker"><a href="#e-安装Docker" class="headerlink" title="e) 安装Docker"></a>e) 安装Docker</h3><p>略</p>
<h3 id="f-配置Docker的Cgroup驱动程序"><a href="#f-配置Docker的Cgroup驱动程序" class="headerlink" title="f) 配置Docker的Cgroup驱动程序"></a>f) 配置Docker的Cgroup驱动程序</h3><p>说明：<a target="_blank" rel="noopener" href="https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes/#docker">https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes/#docker</a><br>Docker中默认的Cgroup驱动程序为cgroupfs，和Kubelet默认的systemd不一致，将会导致Kubelet安装时报错，所以修改Docker的Cgroup驱动程序为systemd。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>
<p>添加以下内容</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;log-driver&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;log-opts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;max-size&quot;</span>: <span class="string">&quot;100m&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;storage-driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f687d1ea823.png"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重启Docker</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

<h3 id="g-配置Kubernetes的YUM源"><a href="#g-配置Kubernetes的YUM源" class="headerlink" title="g) 配置Kubernetes的YUM源"></a>g) 配置Kubernetes的YUM源</h3><p>YUM默认源是没有Kubernetes相关组件的软件的（Kubeadm、Kubectl、Kubelet），所以需要配置Kubernetes的YUM源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt; <span class="string">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span></span><br><span class="line"><span class="string">[kubernetes]</span></span><br><span class="line"><span class="string">name=Kubernetes</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">repo_gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure>

<h3 id="h-查看可安装的Kuberadm、Kubelet、Kubectl版本"><a href="#h-查看可安装的Kuberadm、Kubelet、Kubectl版本" class="headerlink" title="h) 查看可安装的Kuberadm、Kubelet、Kubectl版本"></a>h) 查看可安装的Kuberadm、Kubelet、Kubectl版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list kubeadm --showduplicates</span><br></pre></td></tr></table></figure>

<h2 id="2-所有节点安装Kubeadm、Kubelet、Kubectl"><a href="#2-所有节点安装Kubeadm、Kubelet、Kubectl" class="headerlink" title="2. 所有节点安装Kubeadm、Kubelet、Kubectl"></a>2. 所有节点安装Kubeadm、Kubelet、Kubectl</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 安装最新版本</span><br><span class="line"># yum install -y kubeadm kubelet kubectl</span><br><span class="line"># 安装指定指定版本</span><br><span class="line">yum install -y kubeadm-1.20.9 kubelet-1.20.9 kubectl-1.20.9</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f68be076459.png"></p>
<h2 id="3-所有节点配置开启自启动及服务启动"><a href="#3-所有节点配置开启自启动及服务启动" class="headerlink" title="3. 所有节点配置开启自启动及服务启动"></a>3. 所有节点配置开启自启动及服务启动</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> kubelet</span><br><span class="line">systemctl start kubelet</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f68c317176f.png"></p>
<h2 id="3-Master节点初始化"><a href="#3-Master节点初始化" class="headerlink" title="3. Master节点初始化"></a>3. Master节点初始化</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kubeadm init --apiserver-advertise-address=192.168.10.8 \</span><br><span class="line">--apiserver-bind-port=6443 \</span><br><span class="line">--image-repository=google_containers \</span><br><span class="line">--kubernetes-version=v1.20.9 \</span><br><span class="line">--pod-network-cidr=10.244.0.0/16 \</span><br><span class="line">--service-cidr=10.96.0.0/12</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f68e2d43fc6.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 按照提示复制对应配置文件</span><br><span class="line">mkdir -p $HOME/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br></pre></td></tr></table></figure>

<h2 id="4-Work节点初始化"><a href="#4-Work节点初始化" class="headerlink" title="4. Work节点初始化"></a>4. Work节点初始化</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join 192.168.10.8:6443 \</span><br><span class="line">--token rbmgap.cdmqe0c25613a8yr \</span><br><span class="line">--discovery-token-ca-cert-hash sha256:b1dacd2a9ec2205aa80ad09f80e8a44eee43f6527aa2ea5745e405bb1c5ca2bd</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f6990796311.png"></p>
<h2 id="5-Master查看节点信息"><a href="#5-Master查看节点信息" class="headerlink" title="5. Master查看节点信息"></a>5. Master查看节点信息</h2><p>集群节点当前处于NotReady状态，原因是coredns服务还没启动成功，而coredns服务依赖Kubernetes集群中的网络插件，常用的网络插件为Flannel、Calico。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get node -owide</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f69b05478ca.png"></p>
<h2 id="6-Master节点配置网络插件（Flannel）"><a href="#6-Master节点配置网络插件（Flannel）" class="headerlink" title="6. Master节点配置网络插件（Flannel）"></a>6. Master节点配置网络插件（Flannel）</h2><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>官方地址：<a target="_blank" rel="noopener" href="https://github.com/flannel-io/flannel">https://github.com/flannel-io/flannel</a><br>网络插件只需要安装一个即可，即安装了Flannel就不需要安装Calico了。</p>
<h3 id="下载并修改服务配置"><a href="#下载并修改服务配置" class="headerlink" title="下载并修改服务配置"></a>下载并修改服务配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载Flannel部署YAML文件</span></span><br><span class="line">curl -o /usr/<span class="built_in">local</span>/src/kube-flannel.yaml https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span><br><span class="line"><span class="comment"># 修改部分属性</span></span><br><span class="line">vi /usr/<span class="built_in">local</span>/src/kube-flannel.yaml</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 修改其中的net-conf.json中的Network属性，改为初始化命令中的pod-network-cidr参数</span><br><span class="line">&quot;Network&quot;: &quot;10.244.0.0/16&quot;,</span><br><span class="line"># （若存在多网卡）新增指定网卡属性</span><br><span class="line">args:</span><br><span class="line">  - --ip-masq</span><br><span class="line">  - --kube-subnet-mgr</span><br><span class="line">  - --iface=enp0s8</span><br></pre></td></tr></table></figure>

<h3 id="部署服务"><a href="#部署服务" class="headerlink" title="部署服务"></a>部署服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 部署网络插件Flannel服务</span></span><br><span class="line">kubectl create -f /usr/<span class="built_in">local</span>/src/kube-flannel.yaml</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f69a2c9e3c8.png"></p>
<h3 id="查看结果"><a href="#查看结果" class="headerlink" title="查看结果"></a>查看结果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定时查看Kubernetes集群中pod运行状态，若全部处于Running状态则表明网络插件Flannel部署成功了</span></span><br><span class="line">watch -n 1 <span class="string">&quot;kubectl get pod -A&quot;</span></span><br><span class="line"><span class="comment"># 再次查看节点状态，若都处于Ready状态则表明网络插件Flannel配置成功了</span></span><br><span class="line">kubectl get node -owide</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f69aa15218d.png"></p>
<p><img src="60f69b205cacc.png"></p>
<h2 id="7-Master节点配置网络插件（Calico）"><a href="#7-Master节点配置网络插件（Calico）" class="headerlink" title="7. Master节点配置网络插件（Calico）"></a>7. Master节点配置网络插件（Calico）</h2><h3 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h3><p>官方地址：<a target="_blank" rel="noopener" href="https://www.tigera.io/project-calico/">https://www.tigera.io/project-calico/</a><br>网络插件只需要安装一个即可，即安装了Calico就不需要安装Flannel了。</p>
<h3 id="下载并修改服务配置-1"><a href="#下载并修改服务配置-1" class="headerlink" title="下载并修改服务配置"></a>下载并修改服务配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载calico部署YAML文件</span></span><br><span class="line">curl -o /usr/<span class="built_in">local</span>/src/tigera-operator.yaml https://docs.projectcalico.org/manifests/tigera-operator.yaml</span><br><span class="line">curl -o /usr/<span class="built_in">local</span>/src/custom-resources.yaml https://docs.projectcalico.org/manifests/custom-resources.yaml</span><br><span class="line"><span class="comment"># 修改部分属性</span></span><br><span class="line">vi /usr/<span class="built_in">local</span>/src/custom-resources.yaml</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 修改其中的cidr属性，改为初始化命令中的pod-network-cidr参数</span><br><span class="line">cidr: 10.244.0.0/16</span><br></pre></td></tr></table></figure>

<h3 id="部署服务-1"><a href="#部署服务-1" class="headerlink" title="部署服务"></a>部署服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 部署网络插件Calico服务</span></span><br><span class="line">kubectl create -f /usr/<span class="built_in">local</span>/src/tigera-operator.yaml</span><br><span class="line">kubectl create -f /usr/<span class="built_in">local</span>/src/custom-resources.yaml</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f6a3775549e.png"></p>
<h3 id="查看结果-1"><a href="#查看结果-1" class="headerlink" title="查看结果"></a>查看结果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定时查看Kubernetes集群中pod运行状态，若全部处于Running状态则表明网络插件Calico部署成功了</span></span><br><span class="line">watch -n 1 <span class="string">&quot;kubectl get pod -A&quot;</span></span><br><span class="line"><span class="comment"># 再次查看节点状态，若都处于Ready状态则表明网络插件Calico配置成功了</span></span><br><span class="line">kubectl get node -owide</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f6a3d8863c2.png"></p>
<p><img src="60f69b205cacc.png"></p>
<h2 id="8-Master节点配置网络插件（Calico）-方式2"><a href="#8-Master节点配置网络插件（Calico）-方式2" class="headerlink" title="8. Master节点配置网络插件（Calico）(方式2)"></a>8. Master节点配置网络插件（Calico）(方式2)</h2><h3 id="说明-2"><a href="#说明-2" class="headerlink" title="说明"></a>说明</h3><p>官方地址：<a target="_blank" rel="noopener" href="https://www.tigera.io/project-calico/">https://www.tigera.io/project-calico/</a><br>网络插件只需要安装一个即可，即安装了Calico就不需要安装Flannel了。<br>此方式关键在于直接使用一个配置文件即可</p>
<h3 id="下载并修改服务配置-2"><a href="#下载并修改服务配置-2" class="headerlink" title="下载并修改服务配置"></a>下载并修改服务配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载Calico部署YAML文件</span></span><br><span class="line">curl -o /usr/<span class="built_in">local</span>/src/calico.yaml https://docs.projectcalico.org/manifests/calico.yaml</span><br><span class="line"><span class="comment"># 修改部分属性</span></span><br><span class="line">vi /usr/<span class="built_in">local</span>/src/calico.yaml</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 修改其中的CALICO_IPV4POOL_CIDR环境变量（默认是被注释的了），改为初始化命令中的pod-network-cidr参数</span><br><span class="line">- name: CALICO_IPV4POOL_CIDR</span><br><span class="line">  value: &quot;10.244.0.0/16&quot;</span><br></pre></td></tr></table></figure>

<h3 id="部署服务-2"><a href="#部署服务-2" class="headerlink" title="部署服务"></a>部署服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 部署网络插件Calico服务</span></span><br><span class="line">kubectl create -f /usr/<span class="built_in">local</span>/src/calico.yaml</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f6a586c9868.png"></p>
<h3 id="查看结果-2"><a href="#查看结果-2" class="headerlink" title="查看结果"></a>查看结果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定时查看Kubernetes集群中pod运行状态，若全部处于Running状态则表明网络插件Calico部署成功了</span></span><br><span class="line">watch -n 1 <span class="string">&quot;kubectl get pod -A&quot;</span></span><br><span class="line"><span class="comment"># 再次查看节点状态，若都处于Ready状态则表明网络插件Calico配置成功了</span></span><br><span class="line">kubectl get node -owide</span><br></pre></td></tr></table></figure>
<p>结果截图：<br><img src="60f6a59e842ec.png"></p>
<p><img src="60f69b205cacc.png"></p>
<p>(•̀ᴗ•́)و ̑̑</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://gaussli.com/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E9%83%A8%E7%BD%B2/" data-id="ckyh15zgf006l7hw4e2pigiwi" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "gaussli"
        },
        "headline": "【容器化】Kubernetes部署",
        "image": "http://gaussli.com/placeholder.png",
        "keywords": "Kubernetes Container Kubeadm Kubelet Kubectl",
        "genre": "Tech Container Kubernetes",
        "datePublished": "2021-07-26",
        "dateCreated": "2021-07-26",
        "dateModified": "2021-07-26",
        "url": "http://gaussli.com/2021/07/26/【容器化】kubernetes部署/",
        "description": "官网github：https://github.com/kubernetes/kubernetes
official-website：https://kubernetes.io/
简介
官方说明：Kubernetes 是用于自动部署，扩展和管理容器化应用程序的开源系统。


官方说明：Kubernetes, also known as K8s, is an open source system f",
        "wordCount": 964
    }
</script>

</article>

    <section id="comments">
    
        
    <!-- Valine -->
    <div class="vcomments"></div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="https://twitter.com/gaussli" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="instagram" href="https://www.instagram.com/gaussli/" target="_blank" rel="noopener">
                        <i class="icon fa fa-instagram"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="http://weibo.com/314515111" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="500px" href="https://500px.me/gaussli" target="_blank" rel="noopener">
                        <i class="icon fa fa-500px"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/gaussli" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91openebs%E9%83%A8%E7%BD%B2/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            【容器化】OpenEBS部署
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2021/07/26/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91docker%E9%83%A8%E7%BD%B2/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">【容器化】Docker部署</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
<div class="widget-wrap widget-list">
    <h3 class="widget-title">Catalog</h3>
    <div class="widget">
        <div id="toc" class="toc-article">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%98%E7%BD%91"><span class="toc-number">1.</span> <span class="toc-text">官网</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">2.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Kubeadm%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2"><span class="toc-number">3.</span> <span class="toc-text">Kubeadm方式部署</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%87%86%E5%A4%87"><span class="toc-number">3.1.</span> <span class="toc-text">1. 准备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-%E7%A6%81%E7%94%A8swap%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98"><span class="toc-number">3.1.1.</span> <span class="toc-text">a) 禁用swap虚拟内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-%E7%A6%81%E7%94%A8selinux"><span class="toc-number">3.1.2.</span> <span class="toc-text">b) 禁用selinux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c-%E7%A6%81%E7%94%A8%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%88firewall%EF%BC%89"><span class="toc-number">3.1.3.</span> <span class="toc-text">c) 禁用防火墙（firewall）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#d-%E5%85%81%E8%AE%B8-iptables-%E6%A3%80%E6%9F%A5%E6%A1%A5%E6%8E%A5%E6%B5%81%E9%87%8F"><span class="toc-number">3.1.4.</span> <span class="toc-text">d) 允许 iptables 检查桥接流量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e-%E5%AE%89%E8%A3%85Docker"><span class="toc-number">3.1.5.</span> <span class="toc-text">e) 安装Docker</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#f-%E9%85%8D%E7%BD%AEDocker%E7%9A%84Cgroup%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.1.6.</span> <span class="toc-text">f) 配置Docker的Cgroup驱动程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#g-%E9%85%8D%E7%BD%AEKubernetes%E7%9A%84YUM%E6%BA%90"><span class="toc-number">3.1.7.</span> <span class="toc-text">g) 配置Kubernetes的YUM源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#h-%E6%9F%A5%E7%9C%8B%E5%8F%AF%E5%AE%89%E8%A3%85%E7%9A%84Kuberadm%E3%80%81Kubelet%E3%80%81Kubectl%E7%89%88%E6%9C%AC"><span class="toc-number">3.1.8.</span> <span class="toc-text">h) 查看可安装的Kuberadm、Kubelet、Kubectl版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85Kubeadm%E3%80%81Kubelet%E3%80%81Kubectl"><span class="toc-number">3.2.</span> <span class="toc-text">2. 所有节点安装Kubeadm、Kubelet、Kubectl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E5%BC%80%E5%90%AF%E8%87%AA%E5%90%AF%E5%8A%A8%E5%8F%8A%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8"><span class="toc-number">3.3.</span> <span class="toc-text">3. 所有节点配置开启自启动及服务启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Master%E8%8A%82%E7%82%B9%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">3.4.</span> <span class="toc-text">3. Master节点初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Work%E8%8A%82%E7%82%B9%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">3.5.</span> <span class="toc-text">4. Work节点初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Master%E6%9F%A5%E7%9C%8B%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF"><span class="toc-number">3.6.</span> <span class="toc-text">5. Master查看节点信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Master%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%EF%BC%88Flannel%EF%BC%89"><span class="toc-number">3.7.</span> <span class="toc-text">6. Master节点配置网络插件（Flannel）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">3.7.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E4%BF%AE%E6%94%B9%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE"><span class="toc-number">3.7.2.</span> <span class="toc-text">下载并修改服务配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.7.3.</span> <span class="toc-text">部署服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BB%93%E6%9E%9C"><span class="toc-number">3.7.4.</span> <span class="toc-text">查看结果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Master%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%EF%BC%88Calico%EF%BC%89"><span class="toc-number">3.8.</span> <span class="toc-text">7. Master节点配置网络插件（Calico）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-1"><span class="toc-number">3.8.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E4%BF%AE%E6%94%B9%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE-1"><span class="toc-number">3.8.2.</span> <span class="toc-text">下载并修改服务配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1-1"><span class="toc-number">3.8.3.</span> <span class="toc-text">部署服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BB%93%E6%9E%9C-1"><span class="toc-number">3.8.4.</span> <span class="toc-text">查看结果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Master%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%EF%BC%88Calico%EF%BC%89-%E6%96%B9%E5%BC%8F2"><span class="toc-number">3.9.</span> <span class="toc-text">8. Master节点配置网络插件（Calico）(方式2)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-2"><span class="toc-number">3.9.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E4%BF%AE%E6%94%B9%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE-2"><span class="toc-number">3.9.2.</span> <span class="toc-text">下载并修改服务配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1-2"><span class="toc-number">3.9.3.</span> <span class="toc-text">部署服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BB%93%E6%9E%9C-2"><span class="toc-number">3.9.4.</span> <span class="toc-text">查看结果</span></a></li></ol></li></ol></li></ol>
        </div>
    </div>
</div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B28-calico%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%E9%83%A8%E7%BD%B2/" class="thumbnail">
    
    
        <span style="background-image:url(/placeholder.png)" alt="【容器化】Kubernetes二进制高可用部署8-Calico网络插件部署" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/tech/container/">Container</a></p>
                            <p class="item-title"><a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B28-calico%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%E9%83%A8%E7%BD%B2/" class="title">【容器化】Kubernetes二进制高可用部署8-Calico网络插件部署</a></p>
                            <p class="item-date"><time datetime="2022-01-15T22:45:53.000Z" itemprop="datePublished">2022-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B27-kubelet%E5%92%8Ckube-proxy%E9%83%A8%E7%BD%B2/" class="thumbnail">
    
    
        <span style="background-image:url(/placeholder.png)" alt="【容器化】Kubernetes二进制高可用部署7-Kubelet和kube-Proxy部署" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/tech/container/">Container</a></p>
                            <p class="item-title"><a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B27-kubelet%E5%92%8Ckube-proxy%E9%83%A8%E7%BD%B2/" class="title">【容器化】Kubernetes二进制高可用部署7-Kubelet和kube-Proxy部署</a></p>
                            <p class="item-date"><time datetime="2022-01-15T20:57:26.000Z" itemprop="datePublished">2022-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B26-kube-controller%E5%92%8Ckube-scheduler%E9%83%A8%E7%BD%B2/" class="thumbnail">
    
    
        <span style="background-image:url(/placeholder.png)" alt="【容器化】Kubernetes二进制高可用部署6-Kube-Controller和kube-Scheduler部署" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/tech/container/">Container</a></p>
                            <p class="item-title"><a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B26-kube-controller%E5%92%8Ckube-scheduler%E9%83%A8%E7%BD%B2/" class="title">【容器化】Kubernetes二进制高可用部署6-Kube-Controller和kube-Scheduler部署</a></p>
                            <p class="item-date"><time datetime="2022-01-15T20:57:10.000Z" itemprop="datePublished">2022-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B25-ha%E5%92%8Ckeepalived%E9%83%A8%E7%BD%B2/" class="thumbnail">
    
    
        <span style="background-image:url(/placeholder.png)" alt="【容器化】Kubernetes二进制高可用部署5-HA和Keepalived部署" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/tech/container/">Container</a></p>
                            <p class="item-title"><a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B25-ha%E5%92%8Ckeepalived%E9%83%A8%E7%BD%B2/" class="title">【容器化】Kubernetes二进制高可用部署5-HA和Keepalived部署</a></p>
                            <p class="item-date"><time datetime="2022-01-15T18:48:53.000Z" itemprop="datePublished">2022-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B24-kube-apiserver%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B2/" class="thumbnail">
    
    
        <span style="background-image:url(/placeholder.png)" alt="【容器化】Kubernetes二进制高可用部署4-Kube-Apiserver高可用部署" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/tech/">Tech</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/tech/container/">Container</a></p>
                            <p class="item-title"><a href="/2022/01/16/%E3%80%90%E5%AE%B9%E5%99%A8%E5%8C%96%E3%80%91kubernetes%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B24-kube-apiserver%E9%AB%98%E5%8F%AF%E7%94%A8%E9%83%A8%E7%BD%B2/" class="title">【容器化】Kubernetes二进制高可用部署4-Kube-Apiserver高可用部署</a></p>
                            <p class="item-date"><time datetime="2022-01-15T18:00:02.000Z" itemprop="datePublished">2022-01-16</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">Tech</a><span class="category-list-count">87</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/app/">App</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/app/android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/app/ios/">iOS</a><span class="category-list-count">8</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/">Container</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/k3s/">K3S</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/kubernetes/">Kubernetes</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/kubesphere/">Kubesphere</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/container/openebs/">OpenEBS</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/javaweb/">JavaWeb</a><span class="category-list-count">12</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/javaweb/j2ee/">J2EE</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/javaweb/springboot/">SpringBoot</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/linux/">Linux</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/mac/">Mac</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/maven/">Maven</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/">Middleware</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/apollo/">Apollo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/seata/">Seata</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/showdoc/">Showdoc</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/zipkin/">Zipkin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/middleware/xxl-job/">xxl-job</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/mysql/">MySQL</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/network/">Network</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/virtualbox/">VirtualBox</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/travel/">Travel</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/travel/%E4%B9%9D%E5%AF%A8%E6%B2%9F/">九寨沟</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/travel/%E9%95%BF%E6%B2%99/">长沙</a><span class="category-list-count">1</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/afnetworking/" style="font-size: 10px;">AFNetworking</a> <a href="/tags/apollo/" style="font-size: 10px;">Apollo</a> <a href="/tags/bean/" style="font-size: 10px;">Bean</a> <a href="/tags/centos/" style="font-size: 16.67px;">CentOS</a> <a href="/tags/container/" style="font-size: 16.67px;">Container</a> <a href="/tags/dns/" style="font-size: 10px;">DNS</a> <a href="/tags/docker/" style="font-size: 13.33px;">Docker</a> <a href="/tags/druid/" style="font-size: 10px;">Druid</a> <a href="/tags/eclipse/" style="font-size: 10px;">Eclipse</a> <a href="/tags/git/" style="font-size: 10px;">Git</a> <a href="/tags/gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/haproxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/ip/" style="font-size: 10px;">IP</a> <a href="/tags/java/" style="font-size: 10px;">Java</a> <a href="/tags/k3s/" style="font-size: 10px;">K3S</a> <a href="/tags/keepalived/" style="font-size: 10px;">Keepalived</a> <a href="/tags/kernel/" style="font-size: 10px;">Kernel</a> <a href="/tags/kubeadm/" style="font-size: 10px;">Kubeadm</a> <a href="/tags/kubectl/" style="font-size: 10px;">Kubectl</a> <a href="/tags/kubelet/" style="font-size: 10px;">Kubelet</a> <a href="/tags/kubernetes/" style="font-size: 20px;">Kubernetes</a> <a href="/tags/kubesphere/" style="font-size: 10px;">Kubesphere</a> <a href="/tags/linux/" style="font-size: 12.22px;">Linux</a> <a href="/tags/mac/" style="font-size: 10px;">Mac</a> <a href="/tags/maven/" style="font-size: 15.56px;">Maven</a> <a href="/tags/mysql/" style="font-size: 14.44px;">MySQL</a> <a href="/tags/nsattributedstring/" style="font-size: 10px;">NSAttributedString</a> <a href="/tags/network/" style="font-size: 11.11px;">Network</a> <a href="/tags/nginx/" style="font-size: 11.11px;">Nginx</a> <a href="/tags/node/" style="font-size: 10px;">Node</a> <a href="/tags/openebs/" style="font-size: 11.11px;">OpenEBS</a> <a href="/tags/pch/" style="font-size: 10px;">PCH</a> <a href="/tags/provisioningprofiles/" style="font-size: 10px;">ProvisioningProfiles</a> <a href="/tags/redis/" style="font-size: 10px;">Redis</a> <a href="/tags/selinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/ssziparchive/" style="font-size: 10px;">SSZipArchive</a> <a href="/tags/seata/" style="font-size: 10px;">Seata</a> <a href="/tags/showdoc/" style="font-size: 10px;">Showdoc</a> <a href="/tags/spring/" style="font-size: 11.11px;">Spring</a> <a href="/tags/springboot/" style="font-size: 11.11px;">SpringBoot</a> <a href="/tags/springmvc/" style="font-size: 11.11px;">SpringMVC</a> <a href="/tags/string-framework/" style="font-size: 10px;">String Framework</a> <a href="/tags/subview/" style="font-size: 10px;">Subview</a> <a href="/tags/tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/trash/" style="font-size: 10px;">Trash</a> <a href="/tags/uibutton/" style="font-size: 10px;">UIButton</a> <a href="/tags/uicontrol/" style="font-size: 11.11px;">UIControl</a> <a href="/tags/welcome/" style="font-size: 10px;">Welcome</a> <a href="/tags/windows/" style="font-size: 11.11px;">Windows</a> <a href="/tags/yaml/" style="font-size: 11.11px;">YAML</a> <a href="/tags/yum/" style="font-size: 12.22px;">YUM</a> <a href="/tags/zipkin/" style="font-size: 10px;">Zipkin</a> <a href="/tags/apk/" style="font-size: 10px;">apk</a> <a href="/tags/brew/" style="font-size: 10px;">brew</a> <a href="/tags/brew-cask/" style="font-size: 10px;">brew-cask</a> <a href="/tags/calico/" style="font-size: 10px;">calico</a> <a href="/tags/ca%E8%AF%81%E4%B9%A6/" style="font-size: 10px;">ca证书</a> <a href="/tags/cer/" style="font-size: 10px;">cer</a> <a href="/tags/cni/" style="font-size: 10px;">cni</a> <a href="/tags/cocoapod/" style="font-size: 11.11px;">cocoapod</a> <a href="/tags/cocoapods/" style="font-size: 11.11px;">cocoapods</a> <a href="/tags/cpu/" style="font-size: 10px;">cpu</a> <a href="/tags/crt/" style="font-size: 10px;">crt</a> <a href="/tags/der/" style="font-size: 10px;">der</a> <a href="/tags/elrepo/" style="font-size: 11.11px;">elrepo</a> <a href="/tags/error/" style="font-size: 10px;">error</a> <a href="/tags/etcd/" style="font-size: 10px;">etcd</a> <a href="/tags/fdisk/" style="font-size: 10px;">fdisk</a> <a href="/tags/firewall/" style="font-size: 10px;">firewall</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/groupadd/" style="font-size: 10px;">groupadd</a> <a href="/tags/grub2/" style="font-size: 10px;">grub2</a> <a href="/tags/hook/" style="font-size: 10px;">hook</a> <a href="/tags/hostname/" style="font-size: 10px;">hostname</a> <a href="/tags/jar/" style="font-size: 10px;">jar</a> <a href="/tags/jsp/" style="font-size: 11.11px;">jsp</a> <a href="/tags/kube-apiserver/" style="font-size: 10px;">kube-apiserver</a> <a href="/tags/kube-controller/" style="font-size: 10px;">kube-controller</a> <a href="/tags/kube-proxy/" style="font-size: 10px;">kube-proxy</a> <a href="/tags/kube-scheduler/" style="font-size: 10px;">kube-scheduler</a> <a href="/tags/kubelet/" style="font-size: 10px;">kubelet</a> <a href="/tags/libwebp/" style="font-size: 10px;">libwebp</a> <a href="/tags/life-cycle/" style="font-size: 10px;">life cycle</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/localtime/" style="font-size: 10px;">localtime</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/logger/" style="font-size: 10px;">logger</a> <a href="/tags/lsyncd/" style="font-size: 11.11px;">lsyncd</a> <a href="/tags/mount/" style="font-size: 10px;">mount</a> <a href="/tags/nologin/" style="font-size: 10px;">nologin</a> <a href="/tags/openssl/" style="font-size: 10px;">openssl</a> <a href="/tags/pem/" style="font-size: 10px;">pem</a> <a href="/tags/plugins/" style="font-size: 10px;">plugins</a> <a href="/tags/pod/" style="font-size: 11.11px;">pod</a> <a href="/tags/pom/" style="font-size: 11.11px;">pom</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/response/" style="font-size: 10px;">response</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/ss/" style="font-size: 10px;">ss</a> <a href="/tags/ssh/" style="font-size: 12.22px;">ssh</a> <a href="/tags/swizzling/" style="font-size: 10px;">swizzling</a> <a href="/tags/useradd/" style="font-size: 10px;">useradd</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/x509/" style="font-size: 10px;">x509</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/xxl-job/" style="font-size: 10px;">xxl-job</a> <a href="/tags/yum/" style="font-size: 11.11px;">yum</a> <a href="/tags/zip%E5%8E%8B%E7%BC%A9/" style="font-size: 10px;">zip压缩</a> <a href="/tags/%E4%B8%BB%E4%BB%8E/" style="font-size: 10px;">主从</a> <a href="/tags/%E4%B9%9D%E5%AF%A8%E6%B2%9F/" style="font-size: 10px;">九寨沟</a> <a href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/" style="font-size: 17.78px;">二进制</a> <a href="/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85/" style="font-size: 10px;">二进制安装</a> <a href="/tags/%E4%BB%A3%E7%90%86%E6%BA%90/" style="font-size: 10px;">代理源</a> <a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 10px;">代码</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E5%BA%93/" style="font-size: 10px;">代码库</a> <a href="/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" style="font-size: 10px;">任务调度</a> <a href="/tags/%E4%BC%98%E9%9B%85/" style="font-size: 10px;">优雅</a> <a href="/tags/%E5%85%8B%E9%9A%86/" style="font-size: 10px;">克隆</a> <a href="/tags/%E5%85%8D%E5%AF%86%E7%A0%81/" style="font-size: 11.11px;">免密码</a> <a href="/tags/%E5%86%85%E6%A0%B8/" style="font-size: 10px;">内核</a> <a href="/tags/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1/" style="font-size: 10px;">内置对象</a> <a href="/tags/%E5%88%86%E5%8F%91/" style="font-size: 10px;">分发</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%88%9D%E5%A7%8B%E5%8C%96/" style="font-size: 10px;">初始化</a> <a href="/tags/%E5%88%AB%E5%90%8D/" style="font-size: 10px;">别名</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 11.11px;">加密</a> <a href="/tags/%E5%8A%A0%E8%BD%BD/" style="font-size: 10px;">加载</a> <a href="/tags/%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0/" style="font-size: 10px;">动作元素</a> <a href="/tags/%E5%90%8C%E6%AD%A5/" style="font-size: 12.22px;">同步</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">命令</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size: 13.33px;">命令行</a> <a href="/tags/%E5%93%8D%E5%BA%94/" style="font-size: 10px;">响应</a> <a href="/tags/%E5%9E%83%E5%9C%BE/" style="font-size: 10px;">垃圾</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">基础</a> <a href="/tags/%E5%A4%87%E4%BB%BD/" style="font-size: 10px;">备份</a> <a href="/tags/%E5%A4%8D%E5%88%B6/" style="font-size: 10px;">复制</a> <a href="/tags/%E5%AF%86%E7%A0%81/" style="font-size: 10px;">密码</a> <a href="/tags/%E6%88%90%E9%83%BD/" style="font-size: 11.11px;">成都</a> <a href="/tags/%E6%89%93%E5%8C%85/" style="font-size: 10px;">打包</a> <a href="/tags/%E6%8C%82%E8%BD%BD/" style="font-size: 10px;">挂载</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/" style="font-size: 10px;">数据迁移</a> <a href="/tags/%E6%96%87%E4%BB%B6/" style="font-size: 12.22px;">文件</a> <a href="/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">文件系统</a> <a href="/tags/%E6%97%A0%E5%9F%8B%E7%82%B9/" style="font-size: 10px;">无埋点</a> <a href="/tags/%E6%97%B6%E5%8C%BA/" style="font-size: 10px;">时区</a> <a href="/tags/%E6%97%B6%E9%97%B4/" style="font-size: 11.11px;">时间</a> <a href="/tags/%E6%9B%B4%E6%96%B0%E5%86%85%E6%A0%B8/" style="font-size: 10px;">更新内核</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">框架</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">测试</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85/" style="font-size: 13.33px;">源码安装</a> <a href="/tags/%E7%8A%B6%E6%80%81%E6%A0%8F/" style="font-size: 10px;">状态栏</a> <a href="/tags/%E7%8A%B6%E6%80%81%E8%A1%8C/" style="font-size: 10px;">状态行</a> <a href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" style="font-size: 10px;">生命周期</a> <a href="/tags/%E7%94%A8%E6%88%B7/" style="font-size: 10px;">用户</a> <a href="/tags/%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA/" style="font-size: 10px;">用户行为</a> <a href="/tags/%E7%99%BB%E5%BD%95/" style="font-size: 11.11px;">登录</a> <a href="/tags/%E7%9B%AE%E5%BD%95/" style="font-size: 10px;">目录</a> <a href="/tags/%E7%A1%AC%E7%9B%98/" style="font-size: 10px;">硬盘</a> <a href="/tags/%E7%A6%81%E6%AD%A2%E5%AF%86%E7%A0%81/" style="font-size: 10px;">禁止密码</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E6%B8%85%E7%90%86/" style="font-size: 10px;">系统清理</a> <a href="/tags/%E7%BB%A7%E6%89%BF/" style="font-size: 10px;">继承</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 10px;">缓存</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 10px;">编码</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 11.11px;">网络</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/" style="font-size: 10px;">网络插件</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 11.11px;">翻译</a> <a href="/tags/%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85/" style="font-size: 12.22px;">脚本安装</a> <a href="/tags/%E8%8A%82%E7%82%B9/" style="font-size: 10px;">节点</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" style="font-size: 10px;">虚拟内存</a> <a href="/tags/%E8%A7%A3%E5%AF%86/" style="font-size: 10px;">解密</a> <a href="/tags/%E8%A7%A3%E7%A0%81/" style="font-size: 10px;">解码</a> <a href="/tags/%E8%AF%81%E4%B9%A6%E8%BF%87%E6%9C%9F/" style="font-size: 10px;">证书过期</a> <a href="/tags/%E8%B7%A8%E5%9F%9F/" style="font-size: 10px;">跨域</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" style="font-size: 18.89px;">软件安装</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%9B%B4%E6%96%B0/" style="font-size: 10px;">软件更新</a> <a href="/tags/%E8%BF%81%E7%A7%BB/" style="font-size: 10px;">迁移</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 17.78px;">部署</a> <a href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" style="font-size: 11.11px;">配置文件</a> <a href="/tags/%E9%87%8D%E7%AD%BE%E5%90%8D/" style="font-size: 10px;">重签名</a> <a href="/tags/%E9%94%99%E8%AF%AF/" style="font-size: 10px;">错误</a> <a href="/tags/%E9%95%BF%E6%B2%99/" style="font-size: 10px;">长沙</a> <a href="/tags/%E9%A2%9C%E8%89%B2/" style="font-size: 10px;">颜色</a> <a href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 12.22px;">高可用</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>
                    </li>
                
                    <li>
                        <a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-hueman">Theme</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2022 gaussli</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank">PPOffice</a></p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
    <script src="//unpkg.com/valine"></script>
    <script>
        var GUEST = ['nick','mail','link'];
        var meta = '';
        meta = meta.split(',').filter(function (item) {
            return GUEST.indexOf(item)>-1;
        });
        var avatarcdn = 'https://gravatar.loli.net/avatar/' == true;
        new Valine({
            el: '.vcomments',
            notify: "false",
            verify: "true",
            appId: "YGSfT5B7NAnGgsgsnulyCRzm-9Nh9j0Va",
            appKey: "yMTsdwSzvXxjtpHnypAF81Sg",
            placeholder: "Just Let Me Know...",
            avatar:"identicon",
            recordIP:"true",
            visitor: "true"
        });
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
